# Kong AWS Masking Backend - Test Environment
# 테스트 전용 환경 설정

# Application Environment
NODE_ENV=test
PORT=3000

# 한국 시간대 설정
TZ=Asia/Seoul

# Claude API Configuration
ANTHROPIC_API_KEY=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
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
# Kong Gateway로 리디렉션 (테스트 환경 - Docker)
CLAUDE_API_URL=http://kong:8000/claude-proxy/v1/messages

# AWS Configuration - 한국 리전 (서울) 
AWS_REGION=ap-northeast-2
AWS_DEFAULT_REGION=ap-northeast-2

# Kong Gateway Configuration - 실제 Kong Gateway 사용
KONG_ADMIN_URL=http://localhost:8001
KONG_PROXY_URL=http://localhost:8000

# Performance Settings - 테스트용 (더 관대한 타임아웃)
REQUEST_TIMEOUT=15000
MAX_RETRIES=2
RETRY_DELAY=500

# Logging Configuration - 테스트용 (디버그 로깅)
LOG_LEVEL=debug
ENABLE_FILE_LOG=false
ENABLE_CONSOLE_LOG=true

# Security Settings
DEBUG_MODE=true
MAX_REQUEST_SIZE=10mb

# Test-specific Settings
# Mock 서비스 활성화
MOCK_AWS_CLI=false
MOCK_CLAUDE_API=false

# Jest 테스트 환경
JEST_TIMEOUT=30000

# CORS Origins  
ALLOWED_ORIGINS=http://localhost:3000

# Redis 설정 (실시간 모니터링용)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CsJ9Thv39NOOzbVzx4bOwJCz75EyJsKlmB45HGQCrVMBj0nssGZGeOXvbnZAL
REDIS_DB=0
ENABLE_REDIS_EVENTS=true

# Redis 이벤트 배치 처리 설정
EVENT_LOG_RATE_LIMIT=100
EVENT_BATCH_SIZE=10
EVENT_BATCH_TIMEOUT=5000

# Redis 재연결 설정
REDIS_MAX_RECONNECT_ATTEMPTS=10