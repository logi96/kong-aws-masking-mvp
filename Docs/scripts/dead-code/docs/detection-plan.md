# ğŸ” AIDA Dead Code Detection Plan

**ìƒì„±ì¼**: 2025-07-15  
**ëª©ì **: src/ ë””ë ‰í† ë¦¬ì˜ ë¶ˆí•„ìš”í•œ ì½”ë“œ(dead code) ì²´ê³„ì  ê²€ì¶œ ë° ì œê±°  
**ë²”ìœ„**: TypeScript ì†ŒìŠ¤ ì½”ë“œ ì „ì²´ (í…ŒìŠ¤íŠ¸ íŒŒì¼ í¬í•¨)

---

## ğŸ“‹ êµ¬í˜„ ì™„ë£Œ ì‚¬í•­

### 1. **ìŠ¤í¬ë¦½íŠ¸ êµ¬ì¡°**
```
Docs/scripts/dead-code/
â”œâ”€â”€ detect-dead-code.ts         # ë©”ì¸ ê²€ì¶œ ì—”ì§„ (TypeScript)
â”œâ”€â”€ clean-backup-files.sh       # ë°±ì—… íŒŒì¼ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run-analysis.sh             # í†µí•© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run-simple-analysis.cjs     # ê°„ë‹¨í•œ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ config.json                 # ì„¤ì • íŒŒì¼
â”œâ”€â”€ tsconfig.json              # TypeScript ì„¤ì •
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ detection-plan.md      # ì´ ë¬¸ì„œ
â””â”€â”€ report/                    # ë¶„ì„ ë³´ê³ ì„œ ë””ë ‰í† ë¦¬
```

### 2. **ê²€ì¶œ ê°€ëŠ¥í•œ Dead Code ìœ í˜•**

| ìœ í˜• | ìë™í™” ì§€ì› | êµ¬í˜„ ìƒíƒœ |
|------|------------|-----------|
| ğŸš« ë°±ì—… íŒŒì¼ (.bak, .backup) | âœ… 100% | ì™„ë£Œ |
| ğŸ“¤ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” exports | âœ… 90% | ì™„ë£Œ (ts-prune) |
| ğŸ”’ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë‚´ë¶€ í•¨ìˆ˜/ë³€ìˆ˜ | âœ… 70% | ì™„ë£Œ (AST ë¶„ì„) |
| ğŸ“„ ë¹ˆ íŒŒì¼ | âœ… 100% | ì™„ë£Œ |
| ğŸ‘¥ ì¤‘ë³µ íŒŒì¼ | âœ… 100% | ì™„ë£Œ (MD5 í•´ì‹œ) |
| ğŸ’¬ ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œ ë¸”ë¡ | âœ… 85% | ì™„ë£Œ (íŒ¨í„´ ë¶„ì„) |
| ğŸ·ï¸ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤/íƒ€ì… | âœ… 80% | ì™„ë£Œ (exported only) |

### 3. **í•µì‹¬ ê¸°ëŠ¥**

#### ğŸ§¹ ë°±ì—… íŒŒì¼ ìë™ ì‚­ì œ
- `.bak`, `.backup`, `.old`, `.orig`, `~` íŒŒì¼ ê°ì§€ ë° ì‚­ì œ
- ì•ˆì „í•œ ì‚­ì œ í”„ë¡œì„¸ìŠ¤ (í™•ì¸ í›„ ì‚­ì œ)

#### ğŸ“Š ì¢…í•© ë¶„ì„ ì—”ì§„
- **ts-prune** í†µí•©: ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” exports ì •í™•í•œ ê°ì§€
- **TypeScript AST ë¶„ì„**: ë‚´ë¶€ dead code ê°ì§€
- **MD5 í•´ì‹œ ê¸°ë°˜**: ì¤‘ë³µ íŒŒì¼ ê°ì§€
- **íŒ¨í„´ ë§¤ì¹­**: ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œ ë¸”ë¡ ê°ì§€

#### ğŸ“ ìƒì„¸ ë³´ê³ ì„œ
- Markdown í˜•ì‹ ë³´ê³ ì„œ ìë™ ìƒì„±
- ë¬¸ì œë³„ ë¶„ë¥˜ ë° ìš°ì„ ìˆœìœ„
- ì‹¤í–‰ ê°€ëŠ¥í•œ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ í¬í•¨
- ê±´ê°•ë„ ì ìˆ˜ ê³„ì‚°

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. **ì „ì²´ ë¶„ì„ ì‹¤í–‰** (ê¶Œì¥)
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
./Docs/scripts/dead-code/run-analysis.sh
```

ì´ ëª…ë ¹ì€:
- âœ… ë°±ì—… íŒŒì¼ ìë™ ì •ë¦¬
- âœ… í•„ìš”í•œ ì˜ì¡´ì„± ì„¤ì¹˜
- âœ… Dead code ì „ì²´ ë¶„ì„
- âœ… ë³´ê³ ì„œ ìƒì„± (Docs/scripts/dead-code/report/)

### 2. **ë°±ì—… íŒŒì¼ë§Œ ì •ë¦¬**
```bash
./Docs/scripts/dead-code/clean-backup-files.sh
```

### 3. **Dead code ë¶„ì„ë§Œ ì‹¤í–‰**
```bash
ts-node Docs/scripts/dead-code/detect-dead-code.ts
```

---

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### ìƒ˜í”Œ ë³´ê³ ì„œ êµ¬ì¡°
```markdown
# ğŸ” AIDA Dead Code Analysis Report

## ğŸ“Š Executive Summary
- Total Files: 366
- Files with Issues: 87
- Total Issues: 342
- Health Score: 76%

## ğŸš« Backup Files (15)
- src/gateway/webhook.ts.bak
- src/analyzer/core.ts.backup
...

## ğŸ“¤ Unused Exports (125)
- function: 45 items
- interface: 32 items
- type: 28 items
...

## ğŸ’¬ Commented Code Blocks (67)
- Large blocks of commented implementation
...
```

### ê±´ê°•ë„ ì ìˆ˜ ê³„ì‚°
```
Health Score = (1 - Files with Issues / Total Files) Ã— 100
```

---

## âš¡ ë¹ ë¥¸ ì •ë¦¬ ê°€ì´ë“œ

### 1. **ì¦‰ì‹œ ì‚­ì œ ê°€ëŠ¥** (ìœ„í—˜ë„: ë‚®ìŒ)
- ğŸš« ë°±ì—… íŒŒì¼ (.bak, .backup)
- ğŸ“„ ë¹ˆ íŒŒì¼
- ğŸ’¬ ì˜¤ë˜ëœ ì£¼ì„ ì²˜ë¦¬ ì½”ë“œ

### 2. **ê²€í†  í›„ ì‚­ì œ** (ìœ„í—˜ë„: ì¤‘ê°„)
- ğŸ“¤ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” exports
- ğŸ‘¥ ì¤‘ë³µ íŒŒì¼ (í•˜ë‚˜ë§Œ ìœ ì§€)

### 3. **ì‹ ì¤‘í•œ ê²€í†  í•„ìš”** (ìœ„í—˜ë„: ë†’ìŒ)
- ğŸ”’ ë‚´ë¶€ ë¯¸ì‚¬ìš© ì½”ë“œ (í…ŒìŠ¤íŠ¸ìš©ì¼ ìˆ˜ ìˆìŒ)
- ğŸ·ï¸ íƒ€ì…/ì¸í„°í˜ì´ìŠ¤ (ì™¸ë¶€ ì˜ì¡´ì„± í™•ì¸)

---

## ğŸ›¡ï¸ ì•ˆì „ ì¥ì¹˜

### 1. **ë‹¨ê³„ë³„ ì‹¤í–‰**
- Step 1: ë°±ì—… íŒŒì¼ë§Œ ì‚­ì œ (ì•ˆì „)
- Step 2: ë³´ê³ ì„œ ê²€í† 
- Step 3: ì„ íƒì  ì½”ë“œ ì •ë¦¬

### 2. **Git í†µí•©**
```bash
# ë³€ê²½ ì „ ìƒíƒœ ì €ì¥
git add -A && git commit -m "Before dead code cleanup"

# Dead code ì •ë¦¬ ì‹¤í–‰
./scripts/quality/run-dead-code-analysis.sh

# ë³€ê²½ì‚¬í•­ ê²€í† 
git diff

# ë¬¸ì œ ì‹œ ë³µì›
git reset --hard HEAD
```

### 3. **ì œì™¸ íŒ¨í„´ ì„¤ì •**
`Docs/scripts/dead-code/config.json`ì—ì„œ ì œì™¸í•  íŒ¨í„´ ì„¤ì • ê°€ëŠ¥

---

## ğŸ“ˆ ê¶Œì¥ ìš´ì˜ ë°©ì•ˆ

### 1. **ì •ê¸° ì‹¤í–‰**
- **ì£¼ê¸°**: ì›” 1íšŒ (ì›”ì´ˆ)
- **ë‹´ë‹¹**: ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬ì
- **ëª©í‘œ**: Health Score 85% ì´ìƒ ìœ ì§€

### 2. **CI/CD í†µí•©**
```yaml
# .github/workflows/dead-code-check.yml
name: Dead Code Check
on:
  schedule:
    - cron: '0 0 1 * *'  # ë§¤ì›” 1ì¼
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: ./Docs/scripts/dead-code/run-analysis.sh
      - uses: actions/upload-artifact@v3
        with:
          name: dead-code-report
          path: Docs/scripts/dead-code/report/
```

### 3. **í’ˆì§ˆ ì§€í‘œ ì¶”ì **
| ë‚ ì§œ | ì „ì²´ íŒŒì¼ | ë¬¸ì œ íŒŒì¼ | ê±´ê°•ë„ |
|------|----------|----------|--------|
| 2025-07 | 366 | ? | ?% |
| 2025-08 | ? | ? | ?% |

---

## ğŸ¯ ê¸°ëŒ€ íš¨ê³¼

### 1. **ì½”ë“œ í’ˆì§ˆ í–¥ìƒ**
- ë¶ˆí•„ìš”í•œ ì½”ë“œ ì œê±°ë¡œ ê°€ë…ì„± í–¥ìƒ
- ìœ ì§€ë³´ìˆ˜ ë¹„ìš© ê°ì†Œ
- ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•

### 2. **ë³´ì•ˆ ê°•í™”**
- ì£¼ì„ ì²˜ë¦¬ëœ ë¯¼ê° ì •ë³´ ì œê±°
- ì˜¤ë˜ëœ ì½”ë“œì˜ ì ì¬ì  ì·¨ì•½ì  ì œê±°

### 3. **ì„±ëŠ¥ ê°œì„ **
- ë²ˆë“¤ í¬ê¸° ê°ì†Œ
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ
- ë¡œë”© ì‹œê°„ ë‹¨ì¶•

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ts-prune ì„¤ì¹˜ ì‹¤íŒ¨
```bash
npm install --save-dev ts-prune typescript
```

### ê¶Œí•œ ì˜¤ë¥˜
```bash
chmod +x Docs/scripts/dead-code/*.sh
```

### ë©”ëª¨ë¦¬ ë¶€ì¡±
```bash
export NODE_OPTIONS="--max-old-space-size=4096"
```

---

**ë‹¤ìŒ ë‹¨ê³„**: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í›„ ìƒì„±ëœ ë³´ê³ ì„œë¥¼ ê²€í† í•˜ê³  ì •ë¦¬ ê³„íš ìˆ˜ë¦½