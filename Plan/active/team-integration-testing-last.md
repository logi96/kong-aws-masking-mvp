# Plan: Integration & Testing Team (LAST)

## ğŸš¨ ìš°ì„ ìˆœìœ„: ê°€ì¥ ë§ˆì§€ë§‰ ì‹¤í–‰ (DAY 7-10)

## íŒ€ ê°œìš”
**íŒ€ëª…**: Integration & Testing Team  
**ì—­í• **: ì „ì²´ ì‹œìŠ¤í…œ í†µí•©, E2E í…ŒìŠ¤íŠ¸, ì„±ëŠ¥ ê²€ì¦, ë°°í¬ ì¤€ë¹„  
**ë…ë¦½ì„±**: ëª¨ë“  íŒ€ì˜ ì‚°ì¶œë¬¼ì„ í†µí•©í•˜ì—¬ ìµœì¢… ê²€ì¦  
**ì‹œì‘ ì¡°ê±´**: Team A, B, Cì˜ ê°œë°œ ì™„ë£Œ í›„

## CLAUDE.md í•µì‹¬ ì¤€ìˆ˜ì‚¬í•­
- [ ] **Testing First**: í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ìš°ì„  ì‘ì„±
- [ ] **Lint & Typecheck**: ì „ì²´ ì½”ë“œë² ì´ìŠ¤ í’ˆì§ˆ ê²€ì¦
- [ ] **No Direct AWS Exposure**: ë§ˆìŠ¤í‚¹ ë™ì‘ 100% ê²€ì¦
- [ ] **Response Time**: End-to-End < 5ì´ˆ ë³´ì¥

## ëª©í‘œ (Task Planning Rule)
- **PLAN**: 3ê°œ íŒ€ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•©í•˜ê³  ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦
- **GOAL**: Production-ready MVP ì™„ì„± ë° ë°°í¬ ì¤€ë¹„
- **METRIC**: ëª¨ë“  í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼, ì„±ëŠ¥ ëª©í‘œ ë‹¬ì„±, ë³´ì•ˆ ê²€ì¦ ì™„ë£Œ

## ì‘ì—… ëª©ë¡

### Phase 1: í†µí•© ì¤€ë¹„ (Day 7 - 4ì‹œê°„)

#### 1.1 ì»´í¬ë„ŒíŠ¸ í†µí•© ê²€ì¦
```
í†µí•© ëŒ€ìƒ:
- Infrastructure (Docker Compose)
- Kong Gateway + AWS Masker Plugin
- Backend API (Node.js)
- ì™¸ë¶€ ì„œë¹„ìŠ¤ (Claude API)
```

**Tasks**:
- [ ] ê° íŒ€ì˜ ì‚°ì¶œë¬¼ ì¸ìˆ˜ ë° ê²€í† 
- [ ] ì˜ì¡´ì„± ë²„ì „ ì¶©ëŒ í™•ì¸
- [ ] í™˜ê²½ ë³€ìˆ˜ í†µí•© ê´€ë¦¬
- [ ] í†µí•© ë¸Œëœì¹˜ ìƒì„±

#### 1.2 í†µí•© í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„±
**Tasks**:
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ìš© Docker Compose ì„¤ì •
- [ ] í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„ (ì‹¤ì œ AWS ë¦¬ì†ŒìŠ¤ í˜•íƒœ)
- [ ] Claude API í…ŒìŠ¤íŠ¸ í‚¤ ì„¤ì •
- [ ] ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì„¤ì •

### Phase 2: E2E í…ŒìŠ¤íŠ¸ êµ¬í˜„ (Day 7-8 - 12ì‹œê°„)

#### 2.1 E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
```javascript
// tests/e2e/full-flow.test.js
describe('Kong AWS Masking MVP E2E Tests', () => {
  describe('Complete Flow', () => {
    test('AWS EC2 ë°ì´í„° ìˆ˜ì§‘ â†’ ë§ˆìŠ¤í‚¹ â†’ Claude ë¶„ì„ â†’ ì–¸ë§ˆìŠ¤í‚¹', async () => {
      // 1. Backend APIë¡œ EC2 ì¡°íšŒ ìš”ì²­
      // 2. Kongì´ ìš”ì²­ ê°€ë¡œì±„ê¸° í™•ì¸
      // 3. AWS CLI ì‹¤í–‰ í™•ì¸
      // 4. Kong ë§ˆìŠ¤í‚¹ ì ìš© í™•ì¸
      // 5. Claude API í˜¸ì¶œ í™•ì¸
      // 6. ì‘ë‹µ ì–¸ë§ˆìŠ¤í‚¹ í™•ì¸
      // 7. ìµœì¢… ì‘ë‹µ ê²€ì¦
    });
  });
});
```

**Tasks**:
- [ ] TDD: E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±
- [ ] EC2 ì¸ìŠ¤í„´ìŠ¤ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] S3 ë²„í‚· í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] RDS ì¸ìŠ¤í„´ìŠ¤ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] ë³µí•© ë¦¬ì†ŒìŠ¤ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

#### 2.2 ë§ˆìŠ¤í‚¹ ì •í™•ë„ ê²€ì¦
```javascript
// tests/e2e/masking-accuracy.test.js
describe('Masking Accuracy Tests', () => {
  test('ëª¨ë“  AWS ë¦¬ì†ŒìŠ¤ ì‹ë³„ì ë§ˆìŠ¤í‚¹ í™•ì¸', async () => {
    const testData = {
      instances: ['i-1234567890abcdef0', 'i-0987654321fedcba0'],
      ips: ['10.0.0.1', '10.0.0.2'],
      buckets: ['my-bucket.s3.amazonaws.com']
    };
    
    // Kongì„ í†µê³¼í•œ í›„ ëª¨ë“  ì‹ë³„ìê°€ ë§ˆìŠ¤í‚¹ë˜ì—ˆëŠ”ì§€ ê²€ì¦
  });
});
```

**Tasks**:
- [ ] íŒ¨í„´ë³„ ë§ˆìŠ¤í‚¹ ê²€ì¦ í…ŒìŠ¤íŠ¸
- [ ] ì¤‘ì²©ëœ JSON êµ¬ì¡° ë§ˆìŠ¤í‚¹ í…ŒìŠ¤íŠ¸
- [ ] ëŒ€ìš©ëŸ‰ í˜ì´ë¡œë“œ ë§ˆìŠ¤í‚¹ í…ŒìŠ¤íŠ¸
- [ ] ë§ˆìŠ¤í‚¹ ì¼ê´€ì„± í…ŒìŠ¤íŠ¸
- [ ] ì–¸ë§ˆìŠ¤í‚¹ ì •í™•ë„ í…ŒìŠ¤íŠ¸

### Phase 3: ì„±ëŠ¥ ë° ë¶€í•˜ í…ŒìŠ¤íŠ¸ (Day 8 - 8ì‹œê°„)

#### 3.1 ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬
```javascript
// tests/performance/benchmark.js
const autocannon = require('autocannon');

async function runBenchmark() {
  const result = await autocannon({
    url: 'http://localhost:8000/analyze',
    connections: 10,
    duration: 30,
    requests: [
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ command: 'aws ec2 describe-instances' })
      }
    ]
  });
  
  // ì„±ëŠ¥ ì§€í‘œ ë¶„ì„
  // - í‰ê·  ì‘ë‹µ ì‹œê°„ < 5ì´ˆ
  // - 95 percentile < 6ì´ˆ
  // - ì—ëŸ¬ìœ¨ < 1%
}
```

**Tasks**:
- [ ] ë‹¨ì¼ ìš”ì²­ ì‘ë‹µ ì‹œê°„ ì¸¡ì •
- [ ] ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ëŠ¥ë ¥ í…ŒìŠ¤íŠ¸
- [ ] ì§€ì†ì  ë¶€í•˜ í…ŒìŠ¤íŠ¸ (30ë¶„)
- [ ] ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- [ ] ë³‘ëª© ì§€ì  ë¶„ì„

#### 3.2 ìŠ¤ì¼€ì¼ í…ŒìŠ¤íŠ¸
**Tasks**:
- [ ] ëŒ€ìš©ëŸ‰ AWS ë¦¬ì†ŒìŠ¤ ëª©ë¡ ì²˜ë¦¬
- [ ] Kong í”ŒëŸ¬ê·¸ì¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê²€ì¦
- [ ] Backend API ë™ì‹œì„± í•œê³„ í…ŒìŠ¤íŠ¸
- [ ] Docker ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ í•œê³„ í…ŒìŠ¤íŠ¸

### Phase 4: ë³´ì•ˆ ê²€ì¦ (Day 9 - 6ì‹œê°„)

#### 4.1 ë³´ì•ˆ ê°ì‚¬
```bash
# tests/security/security-audit.sh
#!/bin/bash

echo "=== Security Audit ==="

# 1. í™˜ê²½ ë³€ìˆ˜ ë…¸ì¶œ ê²€ì‚¬
echo "Checking for exposed secrets..."

# 2. AWS ìê²© ì¦ëª… ë³´í˜¸ í™•ì¸
echo "Verifying AWS credentials protection..."

# 3. API ì—”ë“œí¬ì¸íŠ¸ ë³´ì•ˆ ê²€ì‚¬
echo "Testing API security..."

# 4. ì»¨í…Œì´ë„ˆ ë³´ì•ˆ ì„¤ì • í™•ì¸
echo "Checking container security..."
```

**Tasks**:
- [ ] í™˜ê²½ ë³€ìˆ˜ ë° ì‹œí¬ë¦¿ ë…¸ì¶œ ê²€ì‚¬
- [ ] AWS ìê²© ì¦ëª… ì½ê¸° ì „ìš© í™•ì¸
- [ ] API ì¸ì¦/ì¸ê°€ ë©”ì»¤ë‹ˆì¦˜ ê²€ì¦
- [ ] ì…ë ¥ ê²€ì¦ ë° SQL ì¸ì ì…˜ í…ŒìŠ¤íŠ¸
- [ ] ì»¨í…Œì´ë„ˆ ë³´ì•ˆ ì„¤ì • ê²€ì¦

#### 4.2 ë§ˆìŠ¤í‚¹ ë³´ì•ˆì„±
**Tasks**:
- [ ] ë§ˆìŠ¤í‚¹ ìš°íšŒ ì‹œë„ í…ŒìŠ¤íŠ¸
- [ ] ë§ˆìŠ¤í‚¹ ë§µ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê²€ì‚¬
- [ ] TTL ë§Œë£Œ í›„ ë°ì´í„° ì •ë¦¬ í™•ì¸
- [ ] ë¡œê·¸ì—ì„œ ë¯¼ê° ì •ë³´ ë…¸ì¶œ ê²€ì‚¬

### Phase 5: CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• (Day 9 - 6ì‹œê°„)

#### 5.1 GitHub Actions ì›Œí¬í”Œë¡œìš°
```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Run Unit Tests
        run: |
          npm test
          cd kong/plugins/aws-masker && busted
      
      - name: Run Integration Tests
        run: docker-compose -f docker-compose.test.yml up --abort-on-container-exit
      
      - name: Security Scan
        run: ./tests/security/security-audit.sh
```

**Tasks**:
- [ ] CI íŒŒì´í”„ë¼ì¸ êµ¬ì„±
- [ ] ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- [ ] ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ í†µí•©
- [ ] Docker ì´ë¯¸ì§€ ë¹Œë“œ ìë™í™”
- [ ] ë°°í¬ ìŠ¤í…Œì´ì§€ êµ¬ì„±

#### 5.2 ë°°í¬ ì¤€ë¹„
**Tasks**:
- [ ] Production Docker Compose ì„¤ì •
- [ ] í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬
- [ ] ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±
- [ ] ë¡¤ë°± ì ˆì°¨ ë¬¸ì„œí™”
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì„¤ì •

### Phase 6: ë¬¸ì„œí™” ë° ì¸ìˆ˜ (Day 10 - 8ì‹œê°„)

#### 6.1 í†µí•© ë¬¸ì„œ ì‘ì„±
**Tasks**:
- [ ] ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- [ ] API í†µí•© ê°€ì´ë“œ
- [ ] ìš´ì˜ ë§¤ë‰´ì–¼
- [ ] íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
- [ ] ì„±ëŠ¥ íŠœë‹ ê°€ì´ë“œ

#### 6.2 ìµœì¢… ê²€ì¦ ë° ì¸ìˆ˜
```markdown
## MVP ì¸ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ëª¨ë“  ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- [ ] ì„±ëŠ¥ ëª©í‘œ ë‹¬ì„± (< 5ì´ˆ)
- [ ] ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ë‹¬ì„±
- [ ] ë¬¸ì„œí™” ì™„ë£Œ
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ ì‘ë™
- [ ] ìš´ì˜ ì¤€ë¹„ ì™„ë£Œ
```

**Tasks**:
- [ ] ìµœì¢… í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- [ ] ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰
- [ ] ì´í•´ê´€ê³„ì ë°ëª¨ ì¤€ë¹„
- [ ] ë°°í¬ ìŠ¹ì¸ íšë“
- [ ] í”„ë¡œì íŠ¸ íšŒê³ 

## í†µí•© ì§€ì  ë° ì˜ì¡´ì„±

### íŒ€ ê°„ ì¸í„°í˜ì´ìŠ¤
```
Team A (Infrastructure) 
    â†“ ì œê³µ
    â†’ Docker í™˜ê²½, ë„¤íŠ¸ì›Œí¬, ë³¼ë¥¨
    
Team B (Kong Gateway)
    â†“ ì œê³µ
    â†’ ë§ˆìŠ¤í‚¹/ì–¸ë§ˆìŠ¤í‚¹ ê¸°ëŠ¥
    
Team C (Backend API)
    â†“ ì œê³µ
    â†’ AWS ë°ì´í„° ìˆ˜ì§‘, Claude í†µí•©

Integration Team
    â†’ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ í†µí•© ë° ê²€ì¦
```

### ê²€ì¦ ë§¤íŠ¸ë¦­ìŠ¤
| ì»´í¬ë„ŒíŠ¸ | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | í†µí•© í…ŒìŠ¤íŠ¸ | E2E í…ŒìŠ¤íŠ¸ | ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ |
|---------|------------|------------|-----------|------------|
| Infrastructure | âœ“ | âœ“ | âœ“ | âœ“ |
| Kong Plugin | âœ“ | âœ“ | âœ“ | âœ“ |
| Backend API | âœ“ | âœ“ | âœ“ | âœ“ |
| ì „ì²´ ì‹œìŠ¤í…œ | - | - | âœ“ | âœ“ |

## ì„±ê³µ ê¸°ì¤€

### ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­
- âœ… ì „ì²´ í”Œë¡œìš° ì •ìƒ ì‘ë™
- âœ… ëª¨ë“  AWS ë¦¬ì†ŒìŠ¤ íƒ€ì… ì§€ì›
- âœ… 100% ë§ˆìŠ¤í‚¹ ì •í™•ë„
- âœ… Claude API í†µí•© ì„±ê³µ

### ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­
- âœ… E2E ì‘ë‹µ ì‹œê°„ < 5ì´ˆ
- âœ… ë™ì‹œ ìš”ì²­ 10ê°œ ì´ìƒ ì²˜ë¦¬
- âœ… ì—ëŸ¬ìœ¨ < 1%
- âœ… í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ > 80%

### ìš´ì˜ ì¤€ë¹„ë„
- âœ… CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- âœ… ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì„¤ì •
- âœ… ë°°í¬ ë° ë¡¤ë°± ì ˆì°¨ ë¬¸ì„œí™”
- âœ… ìš´ì˜ ê°€ì´ë“œ ì™„ì„±

## ì‚°ì¶œë¬¼

1. **í…ŒìŠ¤íŠ¸ ì½”ë“œ**
   - E2E í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸
   - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
   - ë³´ì•ˆ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

2. **CI/CD ì„¤ì •**
   - GitHub Actions ì›Œí¬í”Œë¡œìš°
   - Docker Compose ìš´ì˜ ì„¤ì •
   - ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

3. **ë¬¸ì„œ**
   - ì‹œìŠ¤í…œ í†µí•© ê°€ì´ë“œ
   - ìš´ì˜ ë§¤ë‰´ì–¼
   - ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ë³´ê³ ì„œ
   - ë³´ì•ˆ ê°ì‚¬ ë³´ê³ ì„œ

4. **ë„êµ¬**
   - ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
   - ë¡œê·¸ ë¶„ì„ ë„êµ¬
   - ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ ë„êµ¬

## ì¼ì •

- **Day 7**: í†µí•© ì¤€ë¹„ ë° E2E í…ŒìŠ¤íŠ¸ ì‹œì‘
- **Day 8**: E2E í…ŒìŠ¤íŠ¸ ì™„ë£Œ ë° ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- **Day 9**: ë³´ì•ˆ ê²€ì¦ ë° CI/CD êµ¬ì¶•
- **Day 10**: ë¬¸ì„œí™” ë° ìµœì¢… ì¸ìˆ˜

## ì°¸ì¡° í‘œì¤€
- [00-comprehensive-summary-checklist.md](../../Docs/Standards/00-comprehensive-summary-checklist.md)
- [04-code-quality-assurance.md](../../Docs/Standards/04-code-quality-assurance.md)
- [05-service-stability-strategy.md](../../Docs/Standards/05-service-stability-strategy.md)
- [06-ci-cd-pipeline-guide.md](../../Docs/Standards/06-ci-cd-pipeline-guide.md)
- [07-deployment-rollback-strategy.md](../../Docs/Standards/07-deployment-rollback-strategy.md)

---

**Note**: ì´ íŒ€ì€ ëª¨ë“  ê°œë°œì´ ì™„ë£Œëœ í›„ ë§ˆì§€ë§‰ì— ì‹¤í–‰ë˜ì–´ ì „ì²´ ì‹œìŠ¤í…œì„ ê²€ì¦í•˜ê³  ìš´ì˜ ì¤€ë¹„ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.